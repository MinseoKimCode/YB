<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>ê²°ê³¼ í˜ì´ì§€ - ë§‰ëŒ€ ê·¸ë˜í”„ ì˜¤ë²„ë ˆì´ (50% ë§ì¶¤ í”½ì…€ ë³µêµ¬)</title>
    <style>
        /* ------------------------------------------- */
        /* 1. ê¸°ë³¸ ì„¤ì • ë° ë·°í¬íŠ¸ ê³ ì • */
        /* ------------------------------------------- */
        html, body {
            margin: 0;
            padding: 0;
            height: 100%; 
            font-family: sans-serif;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            box-sizing: border-box;
            background-color: #ffffff; 
            overflow: hidden; 
        }

        /* ------------------------------------------- */
        /* 2. ë©”ì¸ ì»¨í…Œì´ë„ˆ (ëª¨ë°”ì¼ ë·°í¬íŠ¸ ì—­í• ) */
        /* ------------------------------------------- */
        #result-container {
            width: 100%;
            max-width: 375px; /* ëª¨ë°”ì¼ ê¸°ê¸° ë„ˆë¹„ ì œí•œ ìœ ì§€ */
            height: 100%;
            position: relative; /* ì ˆëŒ€ ìœ„ì¹˜ ìš”ì†Œì˜ ê¸°ì¤€ì  */
            background-color: #ffffff; 
            overflow-y: auto; /* ìŠ¤í¬ë¡¤ í™œì„±í™” */
            -webkit-overflow-scrolling: touch;
            
            /* ìŠ¤í¬ë¡¤ë°” ìˆ¨ê¸°ê¸° */
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        
        #result-container::-webkit-scrollbar {
            display: none;
            width: 0;
            height: 0;
        }
        
        /* ------------------------------------------- */
        /* 3. ì½˜í…ì¸  ì˜ì—­ ë° ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼ */
        /* ------------------------------------------- */
        
        /* ê²°ê³¼ ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼ */
        .result-image {
            width: 100%; 
            height: auto;
            display: block;
        }
        
        /* ------------------------------------------- */
        /* 4. ë§‰ëŒ€ ê·¸ë˜í”„ ì„¹ì…˜ ìŠ¤íƒ€ì¼ (ì ˆëŒ€ ìœ„ì¹˜ ì˜¤ë²„ë ˆì´ - í”½ì…€ ë‹¨ìœ„) */
        /* ------------------------------------------- */
        
        .stat-section {
            /* Y ìœ„ì¹˜ 993.0px ìœ ì§€ (0.5px ìƒí–¥ ì¡°ì •ëœ ìœ„ì¹˜) */
            position: absolute;
            top: 993.0px; 
            left: 0;
            width: 100%; 
            box-sizing: border-box;
            /* X ìœ„ì¹˜ 108px ê³ ì • */
            padding-left: 108px; 
            /* ë§‰ëŒ€ 100% ê¸¸ì´ ì¡°ì •: 45px ìœ ì§€ (50% ë§ì¶¤) */
            padding-right: 45px; 
        }
        
        .stat-item {
            height: 5px; /* ë§‰ëŒ€ êµµê¸° 5px ê³ ì • */
            margin-bottom: 95px; /* ë§‰ëŒ€ ê°„ê²© 100px ìœ ì§€ */
            position: relative; 
            display: flex;
            align-items: center;
            box-sizing: border-box;
            /* í¼ì„¼íŠ¸ ìˆ«ì ê³µê°„ í™•ë³´: 45px ìœ ì§€ */
            padding-right: 45px; 
        }
        
        /* ë§‰ëŒ€ ê·¸ë˜í”„ ì»¨í…Œì´ë„ˆ */
        .bar-container {
            flex-grow: 1;
            height: 100%; 
            background-color: transparent; 
            border-radius: 2.5px; 
            overflow: hidden;
            position: relative; 
        }

        /* ì‹¤ì œ ì±„ì›Œì§€ëŠ” ë§‰ëŒ€ */
        .bar {
            height: 100%;
            width: 0%; 
            border-radius: 2.5px; 
            transition: width 0.5s ease-out;
        }

        /* í¼ì„¼íŠ¸ ìˆ«ì ìŠ¤íƒ€ì¼ */
        .score-info {
            position: absolute;
            top: 50%; 
            right: 0; 
            /* ğŸš¨ ì—¬ê¸°ì„œ -1px ë§Œí¼ ìœ„ë¡œ ì´ë™ ìœ ì§€ */
            transform: translateY(calc(-50% - 1px)); 
            font-size: 13px; 
            font-weight: 700; 
            color: #161317; 
            text-align: right;
            /* í¼ì„¼íŠ¸ ìˆ«ì ê³µê°„: 45px ìœ ì§€ */
            width: 45px; 
        }

        /* ìƒ‰ìƒ ì •ì˜ */
        .yellow-bar { background-color: #FFD600; } 
        .purple-bar { background-color: #A9A9A9; } 
        .pink-bar { background-color: #A9A9A9; } 
        .green-bar { background-color: #A9A9A9; } 

    </style>
</head>
<body>
    <div id="result-container">
        
        <img src="Image/ê²°ê³¼1_ë””ì§€í„¸.svg" alt="ë””ì§€í„¸ ê³¼ë¶€í•˜ ê²°ê³¼ ì´ë¯¸ì§€" class="result-image">
        
        <div class="stat-section">
            
            <div class="stat-item">
                <div class="bar-container">
                    <div class="bar yellow-bar" id="bar-yellow" style="width: 0%;"></div>
                </div>
                <span class="score-info" id="score-yellow">0%</span>
            </div>
            
            <div class="stat-item">
                <div class="bar-container">
                    <div class="bar purple-bar" id="bar-purple" style="width: 0%;"></div>
                </div>
                <span class="score-info" id="score-purple">0%</span>
            </div>
            
            <div class="stat-item">
                <div class="bar-container">
                    <div class="bar pink-bar" id="bar-pink" style="width: 0%;"></div>
                </div>
                <span class="score-info" id="score-pink">0%</span>
            </div>
            
            <div class="stat-item">
                <div class="bar-container">
                    <div class="bar green-bar" id="bar-green" style="width: 0%;"></div>
                </div>
                <span class="score-info" id="score-green">0%</span>
            </div>
            
        </div>
        
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ì €ì¥ëœ ìµœì¢… ì ìˆ˜ (totalQuizScores)ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.
            const scoresString = localStorage.getItem('totalQuizScores');
            
            if (!scoresString) {
                console.warn('âš ï¸ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ìµœì¢… ì ìˆ˜(totalQuizScores)ê°€ ì—†ìŠµë‹ˆë‹¤. ê¸°ë³¸ê°’(0%)ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.');
                // ì ìˆ˜ê°€ ì—†ì„ ê²½ìš° 0%ë¡œ ìœ ì§€ë©ë‹ˆë‹¤.
                return;
            }

            try {
                const scores = JSON.parse(scoresString);
                
                // ì ìˆ˜ IDì™€ ë§‰ëŒ€ IDë¥¼ ì—°ê²°
                const barMappings = [
                    { key: 'Yellow', barId: 'bar-yellow', scoreId: 'score-yellow' },
                    { key: 'Purple', barId: 'bar-purple', scoreId: 'score-purple' },
                    { key: 'Pink', barId: 'bar-pink', scoreId: 'score-pink' },
                    { key: 'Green', barId: 'bar-green', scoreId: 'score-green' }
                ];

                barMappings.forEach(mapping => {
                    // ì ìˆ˜ê°€ ì¡´ì¬í•˜ì§€ ì•Šê±°ë‚˜ ìˆ«ìê°€ ì•„ë‹Œ ê²½ìš° 0ìœ¼ë¡œ ì²˜ë¦¬
                    let percentage = parseFloat(scores[mapping.key]) || 0;
                    
                    // ì ìˆ˜ê°€ 100ì„ ì´ˆê³¼í•˜ì§€ ì•Šë„ë¡ ì œí•œ
                    if (percentage > 100) percentage = 100;

                    const barElement = document.getElementById(mapping.barId);
                    const scoreElement = document.getElementById(mapping.scoreId);
                    
                    if (barElement && scoreElement) {
                        // 1. ë§‰ëŒ€ ê¸¸ì´(width) ì—…ë°ì´íŠ¸
                        barElement.style.width = `${percentage}%`;
                        
                        // 2. í¼ì„¼íŠ¸ ìˆ«ì í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸ (ì†Œìˆ˜ì  ì—†ì´ ë°˜ì˜¬ë¦¼í•˜ì—¬ í‘œì‹œ)
                        scoreElement.textContent = `${Math.round(percentage)}%`;
                    }
                });

            } catch (e) {
                console.error('âŒ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ì ìˆ˜ë¥¼ íŒŒì‹±í•˜ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤:', e);
            }
        });
    </script>
</body>
</html>